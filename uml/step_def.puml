@startuml step_def
title StepDef - Step Definition

class StepDef <<struct>> {
  type: StepType
}

enum StepType {
  Pickup
  Cook
  Store
  Craft
}

class Workstation <<internal>> {
  steps: []const StepDef
  current_step: u8
}

interface "Callbacks" as callbacks {
  OnStepStartedFn(worker, ws, step): void
  OnStepCompletedFn(worker, ws, step): void
}

Workstation --> StepDef : contains
StepDef --> StepType : has

note right of StepDef
  Steps define what type of work
  happens at a workstation.

  The game handles the actual
  execution (movement, animation)
  via callbacks.
end note

note bottom of StepType
  Pickup: Get items from source
  Cook: Process at workstation
  Store: Put items to destination
  Craft: Create new items
end note

note right of callbacks
  Game receives step info
  and handles execution:
  - Start movement/animation
  - Play sounds
  - Update UI
end note

@enduml

@startuml fill_step_flow
title Pickup Step - Execution Flow

participant "Engine" as engine
participant "Game" as game
participant "Worker" as worker

== Execute Pickup Step ==

engine -> game : onStepStarted(worker_id, ws_id,\n{type: .Pickup})

note right of game
  Game receives step callback
  and handles execution:
  1. Determine source location
  2. Move worker to source
  3. Pickup item animation
  4. Move worker to workstation
end note

game -> worker : moveTo(source)
worker -> worker : pickup item

game -> worker : moveTo(workstation)

== Step Complete ==
game -> engine : notifyStepComplete(worker_id)

note right of engine
  Engine advances to next step
  or completes cycle if last step
end note

@enduml

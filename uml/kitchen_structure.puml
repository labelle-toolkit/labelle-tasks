@startuml kitchen_structure
title Kitchen Structure - Storage Flow

package "Game World (External)" {
  storage "Meat Storage A\n(might be empty)" as meat_a
  storage "Meat Storage B\n(has meat)" as meat_b
  storage "Vegetable Storage" as veg_ext
}

package "Kitchen (Task Group)" {
  package "Internal Input Storages" {
    storage "Internal Meat Slot" as meat_internal
    storage "Internal Vegetable Slot" as veg_internal
  }

  node "Cooking Station\n(Workstation)" as cooking

  package "Output Storage" {
    storage "Food Storage" as food_out
  }
}

meat_a ..> meat_internal : <color:gray>Fill (if available)</color>
meat_b ..> meat_internal : <color:green>Fill</color>
veg_ext ..> veg_internal : Fill

meat_internal --> cooking : ingredients
veg_internal --> cooking : ingredients
cooking --> food_out : Store result

note bottom of meat_a
  Source resolved dynamically
  via findSource callback
end note

@enduml
